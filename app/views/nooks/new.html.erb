<%# nooks#new - app/views/nooks/new.html.erb %>

<div class="form_container">
  <h1>Add a BookNook!</h1>

  <div class ="share_form"
      data-controller="map"
      data-map-api-key-value="<%= ENV["MAPBOX_API_KEY"] %>">
    <%= simple_form_for (@nook) do |f| %>
      <h6><%= f.input :name %></h6>
      <h6><%= f.input :description %></h6>
      <%= f.input :latitude, as: :hidden, input_html: {data: {map_target: "latitudeInput"}} %>
      <%= f.input :longitude, as: :hidden, input_html: {data: {map_target: "longitudeInput"}} %>
      <h6><%= f.input :address,
        class: "d-none",
        input_html: {data: {map_target: "address coordinates"}, class: "d-none"},
        wrapper_html: {data: {map_target: "addressWrapper" }}
      %></h6>
      <small>Type an address above or select your location from the map below</small>
      <div id="map-nook-new" data-map-target="mapContainer"></div>
      <h6><%= f.input :photos, as: :file %></h6>
      <div class="share-submit">
        <%= f.submit "share", class: "share-button", html: { color: "white" } %>
      </div>
    <% end %>


    <div id="cancel-button">
      <h6><%= link_to "cancel", nooks_path %></h6>
    </div>
  </div>
</div>
